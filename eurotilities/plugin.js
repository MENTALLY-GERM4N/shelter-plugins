(()=>{var r=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var C=Object.prototype.hasOwnProperty;var E=(e,t)=>{for(var o in t)r(e,o,{get:t[o],enumerable:!0})},N=(e,t,o,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of b(t))!C.call(e,s)&&s!==o&&r(e,s,{get:()=>t[s],enumerable:!(n=x(t,s))||n.enumerable});return e};var g=e=>N(r({},"__esModule",{value:!0}),e);var ne={};E(ne,{onLoad:()=>oe,onUnload:()=>se});var{flux:D,patcher:I}=shelter,{stores:v}=D,{instead:O}=I,{MaskedLinkStore:k}=v,a=()=>{O("isTrustedDomain",k,()=>!0,!1)};var{http:U}=shelter,{intercept:A}=U,l=()=>{try{window.__SENTRY__.hub.getClient().getOptions().enabled=!1;for(let e of Object.keys(console))console[e]=console[e].__sentry_original__??console[e]}catch{}A("post",/^\/science|^\/error-reporting-proxy/,()=>{})};var{flux:P,http:R}=shelter,{dispatcher:F}=P,{patch:u}=R,c=()=>{F.subscribe("INVITE_ACCEPT_SUCCESS",({invite:{guild:{id:e}}})=>{u&&u({body:{muted:!0,suppress_everyone:!0,suppress_roles:!0},url:`/users/@me/guilds/${e}/settings`,oldFormErrors:!1})})};var{flux:M}=shelter,{intercept:L,dispatcher:G}=M,V=["EMBEDDED_ACTIVITY_DISCONNECT","VOICE_STATE_UPDATES"],p=()=>{L(({type:e})=>{if(V.includes(e)){let t=G._subscriptions[e]??[];for(let o of t)o.toString().includes("idleTimeout.start")&&t.delete(o)}})};var f={},d=()=>{for(let e of Object.keys(console))f[e]=console[e],console[e]=(...t)=>{let o=t[0];typeof o=="string"&&(o.includes("%c[")||o.toLowerCase().includes("sentry"))||f[e].apply(console,t)}};var m=window,_=()=>{m.DiscordNative&&m.DiscordNative.window.setDevtoolsCallbacks(()=>{},()=>{})};var{flux:Y,util:j}=shelter,{awaitDispatch:$}=j,{awaitStore:q}=Y,H=async()=>{let e=await q("UserStore",!0),{getCurrentUser:t}=e,o=t();return o||(await $("CONNECTION_OPEN"),o=t()),o},T=async()=>{let e=await H();e._eurotilities__premiumType=e.premiumType,e.premiumType=2};var{flux:B}=shelter,{intercept:W}=B,y=()=>{W(e=>{e.type==="CREATE_PENDING_REPLY"&&(e.shouldMention=!1)})};var{http:z}=shelter,{intercept:J}=z,w=()=>{J("post",/.*typing$/,()=>{})};var{flux:K}=shelter,{dispatcher:Q}=K,X={online:"online",idle:"away",dnd:"away",invisible:"invisible"},h=()=>{Q.subscribe("USER_SETTINGS_PROTO_UPDATE",({settings:e})=>{let t=e.proto.status,o=t.status.value,n=t.showCurrentGame.value,s=X[o];return open(n?`steam://friends/status/${s}`:"steam://friends/status/invisible")})};var{flux:Z}=shelter,{intercept:ee}=Z,S=()=>{ee(e=>{if(e?.type==="UPLOAD_ATTACHMENT_ADD_FILES"){for(let{file:t}of e?.files??[]){if(!t?.name)continue;let o=Date.now().toString();t.name.includes(".")&&(o+=t.name.slice(t.name.lastIndexOf("."))),Object.defineProperty(t,"name",{value:o})}return e}})};var i={alwaysTrust:a,antiTrack:l,muteNewGuild:c,noCallIdle:p,noConsoleSpam:d,noDevtoolsDetection:_,noNitroUpsell:T,noReplyMention:y,noTyping:w,steamStatusSync:h,timestampedFiles:S};var{ui:{showToast:te}}=shelter;function oe(){for(let e of Object.keys(i))i[e]()}function se(){te({title:"Restart Required",content:"\u20ACtilities requires a restart to disable.",onClick(){location.reload()},duration:Number.POSITIVE_INFINITY})}return g(ne);})();
