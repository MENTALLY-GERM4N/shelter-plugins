(()=>{var c=Object.defineProperty;var _=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var b=Object.prototype.hasOwnProperty;var x=(e,s)=>{for(var t in s)c(e,t,{get:s[t],enumerable:!0})},k=(e,s,t,i)=>{if(s&&typeof s=="object"||typeof s=="function")for(let a of A(s))!b.call(e,a)&&a!==t&&c(e,a,{get:()=>s[a],enumerable:!(i=_(s,a))||i.enumerable});return e};var C=e=>k(c({},"__esModule",{value:!0}),e);var I={};x(I,{onLoad:()=>E});var m,l;window.webpackChunkdiscord_app.push([[Symbol()],{},e=>{m=e}]);window.webpackChunkdiscord_app.pop();l=m.c;var S={byProps:(...e)=>s=>e.every(t=>s[t]!==void 0)};function p(e,...s){let t=`webpack.${e} found no module. Filter: ${s}`;return console.error(new Error(t)),{error:t}}function P(e,{isIndirect:s=!1,isWaitFor:t=!1}={}){if(typeof e!="function")return p("find","Invalid filter function");for(let i in l){let a=l[i];if(!a.loaded||!a?.exports)continue;let r=a.exports;if(e(r))return t?[r,i]:r;if(r.default&&e(r.default)){let n=r.default;return t?[n,i]:n}if(typeof r=="object")for(let n in r){if(n.length>3)continue;let o=r[n];if(o&&e(o))return t?[o,i]:o}}return s?t?[null,null]:null:p("find",e)}function h(...e){let s=P(S.byProps(...e),{isIndirect:!0});return!s||s.error?p("findByProps",...e):s}var{flux:{dispatcher:q,stores:{ApplicationStore:f}},http:{get:g,post:D}}=shelter,u={},d={},y={},v=async(e,s)=>{if(!d[e]&&g)try{let i=await g(`/oauth2/applications/${e}/assets`);if(i.status!==200)return console.error("Error fetching resources"),null;d[e]=i.body}catch(i){return console.error("Request failed",i),null}let t=d[e].find(i=>i.name===s);return t?t.id:null},B=h("fetchAssetIds","getAssetImage"),w=async(e,s)=>{if(!y[s])try{let t=await B.fetchAssetIds(e,[s]);y[s]=t[0]}catch(t){return console.error("Request failed",t),null}return y[s]};function E(){let e=new WebSocket("ws://localhost:1337");e.onmessage=async({data:s})=>{let t=JSON.parse(s);if(t.activity?.assets?.large_image&&(t.activity.assets.large_image.startsWith("https://")?t.activity.assets.large_image=await w(t.activity.application_id,t.activity.assets.large_image):t.activity.assets.large_image=await v(t.activity.application_id,t.activity.assets.large_image),t.activity.assets.small_image&&(t.activity.assets.small_image.startsWith("https://")?t.activity.assets.small_image=await w(t.activity.application_id,t.activity.assets.small_image):t.activity.assets.small_image=await v(t.activity.application_id,t.activity.assets.small_image))),t.activity){let i=t.activity.application_id;u[i]||(u[i]=await(Array.isArray(f)?f[0].getApplication(i):f.getApplication(i))||"??");let a=u[i];t.activity.name||(t.activity.name=a.name)}q.dispatch({type:"LOCAL_ACTIVITY_UPDATE",...t})}}return C(I);})();
